> Q. TCP 와 UDP 의 차이를 작성해주세요.

## 💡TCP 프로토콜

- TCP(Transmission Control Protocol) = 전송 제어 프로토콜
- 인터넷에 연결된 컴퓨터에서 실행되는 프로그램 간에 통신을 **안정적으로, 순서대로, 에러없이** 교환할 수 있게 함
- TCP는 UDP보다 안전하지만 느림

<br/>

## 💡TCP 프로토콜의 구조

- 안전한 연결을 지향하는 TCP 프로토콜

<img width="1015" alt="스크린샷 2022-09-27 오후 7 48 25" src="https://user-images.githubusercontent.com/8343301/192514081-26a0809b-c39b-4c29-af21-da7973aa4729.png">

- Offset : 헤더의 길이
- Reserved : 예약된 필드로, 사용하지 않는 필드
- Window : 얼마만큼 더 보낼지 상대방에게 알려주는 것(TCP는 양방향이 확인하면서 데이터를 보냄)
- Urgent Pointer ~~아래에서 확인~~

<br/>

## 💡TCP Flags

- TCP의 주된 기능이 플래그로 나누어짐
- U : Urgent Flag, 긴급 비트 → 우선순위가 높다
    - Urgent Pointer : 어디서부터가 긴급 데이터인지를 표시함
- **A : Ack Flag, 승인 비트** → 물어본 것에 대한 응답
- P : Push Flag, 밀어넣기 비트 → TCP 버퍼가 일정크기만큼 쌓여야하는데, 이와 상관없이 밀어넣겠다는 뜻
- **R : Reset Flag, 초기화 비트** → 문제가 생겼기 때문에 우리 관계를 초기화하자는 것을 의미함
- **S : Sync Flag, 동기화 비트** → 상대방이랑 연결을 시작할때 무조건 사용하는 플래그로, sync가 보내진 후 부터 연결이 동기화됨
- F : Fin Flag, 종료 비트 → 연결을 끊을 때 사용

<br/>

## 💡TCP 통신과정

### 연결 수립 과정

- TCP를 이용한 데이터 통신을 할 때 프로세스와 프로세스를 연결하기 위해 가장 먼저 수행되는 과정
    1. 클라이언트가 서버에게 요청 패킷을 보내고 | Flag : SYN
    2. 서버가 클라이언트의 요청을 받아들이는 패킷을 보내고 | Flag : SYN + ACK
    3. 클라이언트는 이를 최종적으로 수락하는 패킷을 보낸다 | Flag : ACK

위 3개의 과정을 **3way Handshake**라고 부른다.

### 데이터 송수신 과정

- TCP를 이용한 데이터 통신을 할때 단순히 TCP 패킷만을 캡슐화해서 통신하는 것이 아닌 페이로드를 포함한 패킷을 주고 받을 때의 일정한 규칙
    1. 보낸 쪽에서 또 보낼 때는 SEQ 번호와 ACK 번호가 그대로다
    2. 받는 쪽에서 SEQ 번호는 받은 ACK 번호가 된다
    3. 받는 쪽에서 ACK 번호는 받은 SEQ 번호 + 데이터의 크기

### TCP 상태

- TCP의 여러가지 상태 변화가 있음
    - LISTEN : 포트가 열려있는 상태
    - ESTABLISHED : 연결이 수립된 상태 → 이 상태가 되어야 통신이 가능함

## 💡UDP 프로토콜

- UDP(User Datagram Protocol) = 사용자 데이터그램 프로토콜
- 전송 방식이 너무 **단순**해서 서비스의 **신뢰성이 낮고**, 데이터그램의 도착 **순서가 바뀌거나**, **중복**되거나, 심지어 통보없이 **누락**시키기도 함
- UDP는 일반적으로 오류의 검사와 수정이 필요없는 프로그램에서 수행할 것을 가정함

<br/>

## 💡 UDP 프로토콜의 구조

- 안전한 연결을 지향하지 않는 UDP 프로토콜

<img width="1045" alt="스크린샷 2022-09-27 오후 7 27 06" src="https://user-images.githubusercontent.com/8343301/192514112-3e3e9825-027a-433a-9aa8-f97f66fa458c.png">

<br/>

## 💡 UDP 프로토콜을 사용하는 프로그램

- DNS 서버 : 도메인을 물으면 IP를 알려줌
- TFTP 서버 : UDP로 파일을 공유함
- RIP 프로토콜 : 라우팅 정보를 공유
